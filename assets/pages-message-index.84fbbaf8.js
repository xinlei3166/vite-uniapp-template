import{c as e,m as t,a,n as s,t as l,k as n,l as i,o as c,U as o,i as r,b as u,B as f,F as d,q as m,S as h,N as p,d as _,e as b,P as g}from"./icon.0e247b7e.js";/* empty css              */import{d as v,E as y,G as k,a as x,b as j,f as I,h as B,i as S,l as w,q as O,j as C,n as A,k as T,u as V,C as $,v as L,I as F,H as q,m as G,F as H,p as N,s as R,B as U}from"./index-69fcfcc5.js";import{u as z}from"./form.a76f4415.js";import{u as E}from"./useTranslate.51bad3c8.js";import{_ as P}from"./plugin-vueexport-helper.1b428a4d.js";import"./useInject.99f6ed8f.js";const D={...e,modelValue:t(""),inputType:a("text"),shape:a("round"),maxLength:s,placeholder:String,clearable:l,clearIcon:a("circle-close"),background:String,inputBackground:String,focusStyle:n({}),autofocus:Boolean,disabled:i,readonly:Boolean,inputAlign:a("left"),confirmType:a("done"),safeAreaInsetBottom:Boolean,cursorSpacing:c(0)},J={[o]:(e,t)=>(r(e)||void 0===e)&&t instanceof Object,[u]:(e,t)=>(r(e)||void 0===e)&&t instanceof Object,[f]:(e,t)=>(r(e)||void 0===e)&&t instanceof Object,[d]:(e,t)=>(r(e)||void 0===e)&&t instanceof Object,[m]:e=>r(e)||void 0===e,[h]:e=>r(e)||void 0===e,clickInput:(e,t)=>(r(e)||void 0===e)&&t instanceof Object,clickLeftIcon:(e,t)=>(r(e)||void 0===e)&&t instanceof Object,clickRightIcon:(e,t)=>(r(e)||void 0===e)&&t instanceof Object},K=`${g}-searchbar`,{translate:M}=E(K),Q=v({name:K,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),W=P(v({...Q,props:D,emits:J,setup(e,{emit:t}){const a=e,s=y();function l(e){return Boolean(s[e])}const n=z(k(a,"disabled")),i=x({active:!1});const c=j((()=>null==a.modelValue?"":String(a.modelValue))),r=j((()=>null==a.maxLength?-1:Number(a.maxLength))),g=j((()=>_(a,K,{"safe-area-inset-bottom":a.safeAreaInsetBottom}))),v=j((()=>b(a,{background:a.background}))),G=j((()=>{const e={background:a.inputBackground};return i.active&&Object.assign(e,a.focusStyle),e})),H=j((()=>({textAlign:a.inputAlign})));function N(e){return r.value>0&&e.length>r.value&&(e=e.slice(0,r.value)),e}function R(e){const a=N(e.detail.value);t(o,a,e),t(u,a,e)}function U(e){const a=N(e.detail.value);i.active=!0,t(d,a,e)}function E(e){const a=N(e.detail.value);setTimeout((()=>{i.active=!1}),200),t(f,a,e)}function P(e){t(o,"",e),t(u,"",e),t(m,"")}function D(){t(h,c.value)}function J(e){t("clickInput",c.value,e)}function Q(e){t("clickLeftIcon",c.value,e)}function W(e){t("clickRightIcon",c.value,e)}return(e,t)=>{const s=L,i=F,o=q;return I(),B(s,{class:A(V(g)),style:T(V(v))},{default:S((()=>[l("leftout")?(I(),B(s,{key:0,class:"nut-searchbar__search-icon nut-searchbar__left-search-icon",onClick:Q},{default:S((()=>[w(e.$slots,"leftout",{},void 0,!0)])),_:3})):O("v-if",!0),C(s,{class:A(["nut-searchbar__search-input",[a.shape]]),style:T(V(G))},{default:S((()=>[l("leftin")?(I(),B(s,{key:0,class:"nut-searchbar__search-icon nut-searchbar__iptleft-search-icon"},{default:S((()=>[w(e.$slots,"leftin",{},void 0,!0)])),_:3})):O("v-if",!0),C(s,{class:A(["nut-searchbar__input-inner",{"nut-searchbar__input-inner-absolute":l("rightin")}])},{default:S((()=>[C(o,{class:"nut-searchbar__input-form",action:"#",onsubmit:"return false",onSubmit:$(D,["prevent"])},{default:S((()=>[C(i,{class:A(["nut-searchbar__input-bar",{"nut-searchbar__input-bar_clear":a.clearable}]),style:T(V(H)),type:a.inputType,maxlength:V(r),placeholder:a.placeholder||V(M)("placeholder"),value:V(c),focus:a.autofocus,"confirm-type":a.confirmType,disabled:V(n),readonly:a.readonly,"cursor-spacing":a.cursorSpacing,onClick:J,onInput:R,onFocus:U,onBlur:E,onConfirm:D},null,8,["class","style","type","maxlength","placeholder","value","focus","confirm-type","disabled","readonly","cursor-spacing"])])),_:1},8,["onSubmit"])])),_:1},8,["class"]),C(s,{class:A(["nut-searchbar__input-inner-icon",{"nut-searchbar__input-inner-icon-absolute":l("rightin")}])},{default:S((()=>[a.clearable?(I(),B(s,{key:0,class:A(["nut-searchbar__search-icon nut-searchbar__input-clear",{"nut-hidden":V(c).length<=0}]),onClick:P},{default:S((()=>[l("clear-icon")?w(e.$slots,"clear-icon",{key:0},void 0,!0):(I(),B(p,{key:1,name:a.clearIcon},null,8,["name"]))])),_:3},8,["class"])):O("v-if",!0),l("rightin")?(I(),B(s,{key:1,class:"nut-searchbar__search-icon nut-searchbar__iptright-search-icon",onClick:W},{default:S((()=>[w(e.$slots,"rightin",{},void 0,!0)])),_:3})):O("v-if",!0)])),_:3},8,["class"])])),_:3},8,["class","style"]),l("rightout")?(I(),B(s,{key:1,class:"nut-searchbar__search-icon nut-searchbar__right-search-icon"},{default:S((()=>[w(e.$slots,"rightout",{},void 0,!0)])),_:3})):O("v-if",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-d2d8a758"]]),X=P(v({__name:"index",setup(e){const t=Array.from({length:20}),a=x({keyword:""});return(e,s)=>{const l=W,n=p,i=L,c=U;return I(),G(H,null,[O(" list flex flex-col list-item items-center list-item-left flex-shrink-0 icon-wrap list-item-right flex-1 justify-between list-item-title list-item-title-text list-item-title-time list-item-msg "),C(l,{modelValue:a.keyword,"onUpdate:modelValue":s[0]||(s[0]=e=>a.keyword=e),"custom-class":"search","custom-style":"margin-bottom: 24rpx;",shape:"round",placeholder:"请输入搜索关键词"},null,8,["modelValue"]),C(i,{class:"list flex flex-col"},{default:S((()=>[(I(!0),G(H,null,N(V(t),((e,t)=>(I(),B(i,{key:t,class:"list-item flex items-center"},{default:S((()=>[C(i,{class:"list-item-left flex-shrink-0"},{default:S((()=>[C(i,{class:"icon-wrap"},{default:S((()=>[C(n,{"custom-class":"icon",size:"28","custom-color":"#fff",name:"star-n"})])),_:1})])),_:1}),C(i,{class:"list-item-right flex flex-1 flex-col justify-between"},{default:S((()=>[C(i,{class:"list-item-title flex justify-between"},{default:S((()=>[C(c,{class:"list-item-title-text"},{default:S((()=>[R("生活号")])),_:1}),C(c,{class:"list-item-title-time"},{default:S((()=>[R("18:15")])),_:1})])),_:1}),C(i,{class:"list-item-msg"},{default:S((()=>[R("了不起的打工人")])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1})],64)}}}),[["__scopeId","data-v-082d6a91"]]);export{X as default};

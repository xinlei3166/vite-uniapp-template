import{k as e,x as a,u as s,p as l,q as o,o as r,c as t,w as u,d as n,e as i,R as d,T as c,U as m,L as p,O as f,D as _,l as w,f as g,V as b,i as y}from"./index-EupBeeyJ.js";import{_ as k}from"./uni-easyinput.DMYPwL6l.js";import{_ as q,a as x}from"./uni-forms.BFsfaF1A.js";import{_ as V}from"./plugin-vueexport-helper.BCo6x5W8.js";import"./uni-icons.C53QBsee.js";const h=V(e({__name:"index",setup(e){const V=a(),h=s({account:"admin",password:"123456"}),v=async()=>{V.value.validate().then((async()=>{const e=await d({userAccount:h.account,password:c(h.password)});if(!e||0!==e.code)return;m(e.data.accessToken);const a=p();await a.setUserinfo(),await a.setUserinfo(),f({title:"登录成功"}),_({url:"/pages/home/index"})}))},j=()=>{w({url:"/pages/login/register"})};return(e,a)=>{const s=g,d=l(o("uni-easyinput"),k),c=l(o("uni-forms-item"),q),m=b,p=l(o("uni-forms"),x),f=y;return r(),t(s,{class:"login"},{default:u((()=>[n(s,{class:"login-title"},{default:u((()=>[i("登录账号")])),_:1}),n(s,{class:"login-form uni-form-custom"},{default:u((()=>[n(p,{ref_key:"formRef",ref:V,"model-value":h},{default:u((()=>[n(c,{label:"账号",required:"",name:"account",rules:[{required:!0,errorMessage:"请输入账号"}],class:"required"},{default:u((()=>[n(d,{modelValue:h.account,"onUpdate:modelValue":a[0]||(a[0]=e=>h.account=e),class:"form-item-input",placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),n(c,{label:"密码",required:"",name:"password",rules:[{required:!0,errorMessage:"请输入密码"}],class:"required"},{default:u((()=>[n(d,{modelValue:h.password,"onUpdate:modelValue":a[1]||(a[1]=e=>h.password=e),class:"form-item-input",type:"password",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),n(s,{class:"uni-form-btn-wrap"},{default:u((()=>[n(m,{class:"uni-form-btn block",block:"",type:"primary",onClick:v},{default:u((()=>[i("登录")])),_:1})])),_:1})])),_:1},8,["model-value"])])),_:1}),n(s,{class:"tip-btn-wrap"},{default:u((()=>[n(f,null,{default:u((()=>[i(" 没有账号？ "),n(f,{class:"text-btn",onClick:j},{default:u((()=>[i("去注册")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-9c2bece6"]]);export{h as default};

import{k as a,x as e,u as s,p as l,q as o,o as r,c as t,w as u,d as n,e as i,Q as d,R as c,T as m,K as f,N as p,C as _,l as w,f as g,U as b,i as y}from"./index-klAvK6QC.js";import{_ as k}from"./uni-easyinput.C38uCpph.js";import{_ as q,a as x}from"./uni-forms.DWi91UPi.js";import{_ as h}from"./plugin-vueexport-helper.BCo6x5W8.js";import"./uni-icons.y0WmNfsH.js";const v=h(a({__name:"index",setup(a){const h=e(),v=s({account:"admin",password:"123456"}),V=async()=>{h.value.validate().then((async()=>{const a=await d({userAccount:v.account,password:c(v.password)});if(!a||0!==a.code)return;m(a.data.accessToken);const e=f();await e.setUserinfo(),await e.setUserinfo(),p({title:"登录成功"}),_({url:"/pages/home/index"})}))},j=()=>{w({url:"/pages/login/register"})};return(a,e)=>{const s=g,d=l(o("uni-easyinput"),k),c=l(o("uni-forms-item"),q),m=b,f=l(o("uni-forms"),x),p=y;return r(),t(s,{class:"login"},{default:u((()=>[n(s,{class:"login-title"},{default:u((()=>[i("登录账号")])),_:1}),n(f,{ref_key:"formRef",ref:h,"model-value":v,class:"login-form uni-form-custom"},{default:u((()=>[n(c,{label:"账号",required:"",name:"account",rules:[{required:!0,errorMessage:"请输入账号"}],class:"required"},{default:u((()=>[n(d,{modelValue:v.account,"onUpdate:modelValue":e[0]||(e[0]=a=>v.account=a),class:"form-item-input",placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),n(c,{label:"密码",required:"",name:"password",rules:[{required:!0,errorMessage:"请输入密码"}],class:"required"},{default:u((()=>[n(d,{modelValue:v.password,"onUpdate:modelValue":e[1]||(e[1]=a=>v.password=a),class:"form-item-input",type:"password",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),n(s,{class:"uni-form-btn-wrap"},{default:u((()=>[n(m,{class:"uni-form-btn block",block:"",type:"primary",onClick:V},{default:u((()=>[i("登录")])),_:1})])),_:1})])),_:1},8,["model-value"]),n(s,{class:"tip-btn-wrap"},{default:u((()=>[n(p,null,{default:u((()=>[i(" 没有账号？ "),n(p,{class:"text-btn",onClick:j},{default:u((()=>[i("去注册")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-ec1f2af6"]]);export{v as default};

import{c as e,m as a,a as t,n as s,t as n,k as l,l as c,o,U as i,i as r,b as u,B as d,F as f,q as h,S as p,N as m,d as _,e as b,P as v}from"./icon.ClHjHGyE.js";/* empty css              */import{d as g,E as y,G as k,a as x,b as j,f as I,h as B,i as S,l as O,q as C,j as w,n as A,k as T,C as V,u as $,v as L,I as F,H as q,m as G,F as H,p as N,s as R,B as U}from"./index-CcNqTXc_.js";import{u as z}from"./form.DgMEBq-C.js";import{u as E}from"./useTranslate.DRa3dWg0.js";import{_ as P}from"./plugin-vueexport-helper.BCo6x5W8.js";import"./useInject.JvCMSTjf.js";const D={...e,modelValue:a(""),inputType:t("text"),shape:t("round"),maxLength:s,placeholder:String,clearable:n,clearIcon:t("circle-close"),background:String,inputBackground:String,focusStyle:l({}),autofocus:Boolean,disabled:c,readonly:Boolean,inputAlign:t("left"),confirmType:t("done"),safeAreaInsetBottom:Boolean,cursorSpacing:o(0)},J={[i]:(e,a)=>(r(e)||void 0===e)&&a instanceof Object,[u]:(e,a)=>(r(e)||void 0===e)&&a instanceof Object,[d]:(e,a)=>(r(e)||void 0===e)&&a instanceof Object,[f]:(e,a)=>(r(e)||void 0===e)&&a instanceof Object,[h]:e=>r(e)||void 0===e,[p]:e=>r(e)||void 0===e,clickInput:(e,a)=>(r(e)||void 0===e)&&a instanceof Object,clickLeftIcon:(e,a)=>(r(e)||void 0===e)&&a instanceof Object,clickRightIcon:(e,a)=>(r(e)||void 0===e)&&a instanceof Object},K=`${v}-searchbar`,{translate:M}=E(K),Q=g({name:K,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),W=P(g({...Q,props:D,emits:J,setup(e,{emit:a}){const t=e,s=a,n=y();function l(e){return Boolean(n[e])}const c=z(k(t,"disabled")),o=x({active:!1});const r=j((()=>null==t.modelValue?"":String(t.modelValue))),v=j((()=>null==t.maxLength?-1:Number(t.maxLength))),g=j((()=>_(t,K,{"safe-area-inset-bottom":t.safeAreaInsetBottom}))),G=j((()=>b(t,{background:t.background}))),H=j((()=>{const e={background:t.inputBackground};return o.active&&Object.assign(e,t.focusStyle),e})),N=j((()=>({textAlign:t.inputAlign})));function R(e){return v.value>0&&e.length>v.value&&(e=e.slice(0,v.value)),e}function U(e){const a=R(e.detail.value);s(i,a,e),s(u,a,e)}function E(e){const a=R(e.detail.value);o.active=!0,s(f,a,e)}function P(e){const a=R(e.detail.value);setTimeout((()=>{o.active=!1}),200),s(d,a,e)}function D(e){s(i,"",e),s(u,"",e),s(h,"")}function J(){s(p,r.value)}function Q(e){s("clickInput",r.value,e)}function W(e){s("clickLeftIcon",r.value,e)}function X(e){s("clickRightIcon",r.value,e)}return(e,a)=>{const s=L,n=F,o=q;return I(),B(s,{class:A(g.value),style:T(G.value)},{default:S((()=>[l("leftout")?(I(),B(s,{key:0,class:"nut-searchbar__search-icon nut-searchbar__left-search-icon",onClick:W},{default:S((()=>[O(e.$slots,"leftout",{},void 0,!0)])),_:3})):C("",!0),w(s,{class:A(["nut-searchbar__search-input",[t.shape]]),style:T(H.value)},{default:S((()=>[l("leftin")?(I(),B(s,{key:0,class:"nut-searchbar__search-icon nut-searchbar__iptleft-search-icon"},{default:S((()=>[O(e.$slots,"leftin",{},void 0,!0)])),_:3})):C("",!0),w(s,{class:A(["nut-searchbar__input-inner",{"nut-searchbar__input-inner-absolute":l("rightin")}])},{default:S((()=>[w(o,{class:"nut-searchbar__input-form",action:"#",onsubmit:"return false",onSubmit:V(J,["prevent"])},{default:S((()=>[w(n,{class:A(["nut-searchbar__input-bar",{"nut-searchbar__input-bar_clear":t.clearable}]),style:T(N.value),type:t.inputType,maxlength:v.value,placeholder:t.placeholder||$(M)("placeholder"),value:r.value,focus:t.autofocus,"confirm-type":t.confirmType,disabled:$(c),readonly:t.readonly,"cursor-spacing":t.cursorSpacing,onClick:Q,onInput:U,onFocus:E,onBlur:P,onConfirm:J},null,8,["class","style","type","maxlength","placeholder","value","focus","confirm-type","disabled","readonly","cursor-spacing"])])),_:1})])),_:1},8,["class"]),w(s,{class:A(["nut-searchbar__input-inner-icon",{"nut-searchbar__input-inner-icon-absolute":l("rightin")}])},{default:S((()=>[t.clearable?(I(),B(s,{key:0,class:A(["nut-searchbar__search-icon nut-searchbar__input-clear",{"nut-hidden":r.value.length<=0}]),onClick:D},{default:S((()=>[l("clear-icon")?O(e.$slots,"clear-icon",{key:0},void 0,!0):(I(),B(m,{key:1,name:t.clearIcon},null,8,["name"]))])),_:3},8,["class"])):C("",!0),l("rightin")?(I(),B(s,{key:1,class:"nut-searchbar__search-icon nut-searchbar__iptright-search-icon",onClick:X},{default:S((()=>[O(e.$slots,"rightin",{},void 0,!0)])),_:3})):C("",!0)])),_:3},8,["class"])])),_:3},8,["class","style"]),l("rightout")?(I(),B(s,{key:1,class:"nut-searchbar__search-icon nut-searchbar__right-search-icon"},{default:S((()=>[O(e.$slots,"rightout",{},void 0,!0)])),_:3})):C("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-f429c264"]]),X=P(g({__name:"index",setup(e){const a=Array.from({length:20}),t=x({keyword:""});return(e,s)=>{const n=W,l=m,c=L,o=U;return I(),G(H,null,[w(n,{modelValue:t.keyword,"onUpdate:modelValue":s[0]||(s[0]=e=>t.keyword=e),"custom-class":"search","custom-style":"margin-bottom: 24rpx;",shape:"round",placeholder:"请输入搜索关键词"},null,8,["modelValue"]),w(c,{class:"list flex flex-col"},{default:S((()=>[(I(!0),G(H,null,N($(a),((e,a)=>(I(),B(c,{key:a,class:"list-item flex items-center"},{default:S((()=>[w(c,{class:"list-item-left flex-shrink-0"},{default:S((()=>[w(c,{class:"icon-wrap"},{default:S((()=>[w(l,{"custom-class":"icon",size:"28","custom-color":"#fff",name:"star-n"})])),_:1})])),_:1}),w(c,{class:"list-item-right flex flex-1 flex-col justify-between"},{default:S((()=>[w(c,{class:"list-item-title flex justify-between"},{default:S((()=>[w(o,{class:"list-item-title-text"},{default:S((()=>[R("生活号")])),_:1}),w(o,{class:"list-item-title-time"},{default:S((()=>[R("18:15")])),_:1})])),_:1}),w(c,{class:"list-item-msg"},{default:S((()=>[R("了不起的打工人")])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1})],64)}}}),[["__scopeId","data-v-082d6a91"]]);export{X as default};
